(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(13),i=n.n(s),c=(n(54),n(2)),o=n(3),u=n(5),l=n(4),p=n(6),h=n(38),d=(n(56),n(14)),m=n(7),v=function(e){return{type:"AUTHENTICATION_FAILURE",errors:e}},E=function(e){return function(t){t({type:"AUTHENTICATION_REQUEST"});return fetch("http://localhost:3000/api/user_token",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({auth:e})}).then(function(e){return e.json()}).then(function(n){var r=n.jwt;localStorage.setItem("token",r),localStorage.setItem("user",e),t(f(e))}).catch(function(e){t(v({"User Name or Email":"Doesn't match our records"})),localStorage.clear()})}},f=function(e){return function(t){return fetch("/api/v1/find_user",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){var n,r;e.ok?t((n=e.user,r=localStorage.getItem("token"),{type:"AUTHENTICATION_SUCCESS",user:n,token:r})):t(v(e.errors))}).catch(function(e){return t(v(e))})}},g=function(e){return function(t){return fetch("/api/v1/logout",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){!0===e.ok&&(localStorage.clear(),t({type:"RESET"}))}).catch(function(e){return t(v(e))})}},b=n(9),O=n(126),j=function(e,t){void 0!==e&&Object.keys(e).map(function(n,r){if("password_digest"!==n){var a="".concat(n,": ").concat(e[n]);return t.error(a)}})},S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleOnChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.props.authenticate(n.state),n.setState({email:"",password:"",alerted:!1})},n.state={email:"",password:"",alerted:!1},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.hasErrors&&!this.state.alerted?(this.setState({alerted:!0}),j(this.props.errors,this.props.alert)):this.props.isAuthenticated&&this.props.history.push("/")}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"signinInput"},a.a.createElement("form",{id:"signin-form",onSubmit:function(t){return e.handleSubmit(t)}},a.a.createElement("div",{id:"signin-title"},a.a.createElement("h1",null,"SIGN IN")),a.a.createElement("div",{id:"signin-form-div"},a.a.createElement("input",{id:"signin-email",onChange:function(t){return e.handleOnChange(t)},name:"email",type:"text",value:this.state.email,placeholder:"Email"}),a.a.createElement("input",{id:"signin-password",onChange:function(t){return e.handleOnChange(t)},name:"password",type:"password",value:this.state.password,placeholder:"Password"})),a.a.createElement("input",{className:"signin-user-btn",type:"submit",value:"SUBMIT"})))}}]),t}(r.Component),y=Object(b.b)(Object(O.a)(Object(m.b)(function(e){return{currentUser:e.authReducer.currentUser,isAuthenticating:e.authReducer.isAuthenticating,isAuthenticated:e.authReducer.isAuthenticated,isLoading:e.authReducer.isLoading,hasErrors:e.authReducer.hasErrors,errors:e.authReducer.errors}},function(e){return{authenticate:function(t){e(E(t))}}})(S))),A=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleOnChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.setState({user_name:n.state.user_name,email:n.state.email,password:n.state.password});var t=n.state;n.props.signupUser(t),n.setState({user_name:"",email:"",password:""})},n.state={user_name:"",email:"",password:""},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.hasErrors&&e.isAuthenticating?j(this.props.errors,this.props.alert):this.props.isAuthenticated&&this.props.history.push("/")}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"signupInput"},a.a.createElement("form",{id:"signup-form",onSubmit:function(t){return e.handleSubmit(t)}},a.a.createElement("div",{id:"signup-title"},a.a.createElement("h1",null,"SIGN UP")),a.a.createElement("div",{id:"signup-form-div"},a.a.createElement("input",{id:"signup-user_name",onChange:function(t){return e.handleOnChange(t)},name:"user_name",type:"text",value:this.state.user_name,placeholder:"User Name"}),a.a.createElement("input",{id:"signup-email",onChange:function(t){return e.handleOnChange(t)},name:"email",type:"text",value:this.state.email,placeholder:"Email"}),a.a.createElement("input",{id:"signup-password",onChange:function(t){return e.handleOnChange(t)},name:"password",type:"password",value:this.state.password,placeholder:"Password"})),a.a.createElement("input",{className:"signup-user-btn",type:"submit",value:"SUBMIT"})))}}]),t}(r.Component),C=Object(b.b)(Object(O.a)(Object(m.b)(function(e){return{isAuthenticating:e.authReducer.isAuthenticating,isAuthenticated:e.authReducer.isAuthenticated,hasErrors:e.authReducer.hasErrors,errors:e.authReducer.errors}},function(e){return{signupUser:function(t){return e(function(e){return function(t){return t({type:"AUTHENTICATION_REQUEST"}),fetch("/api/v1/signup",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:e})}).then(function(e){return e.json()}).then(function(n){n.ok?t(E(e)):t(v(n.errors))}).catch(function(e){return t(v(e))})}}(t))}}})(A))),U=n(125),T=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).handleCreateEventForNontLoggedinUser=function(){n.props.alert.info("You Mush have an account before you can create an event."),n.props.history.push("/signup")},n.renderCreateEventLink=function(){return n.props.isAuthenticated?a.a.createElement("li",null,a.a.createElement(U.a,{to:"/users/".concat(n.props.currentUser.id,"/events/new")},"Create Event")):a.a.createElement("li",null,a.a.createElement(U.a,{to:"",onClick:function(){return n.handleCreateEventForNontLoggedinUser()}},"Create Event"))},n.renderAccountLink=function(){if(n.props.isAuthenticated)return a.a.createElement("li",null,a.a.createElement(U.a,{to:"/users/".concat(n.props.currentUser.id)},"Account"))},n.renderLogoutLink=function(){if(n.props.isAuthenticated)return a.a.createElement("li",null,a.a.createElement(U.a,{to:"/logout"},"Logout"))},n.renderSigninSignupLinks=function(){if(!n.props.isAuthenticated&&!n.props.isAuthenticating)return a.a.createElement(a.a.Fragment,null,a.a.createElement("li",null,a.a.createElement(U.a,{to:"/signin"},"Sign In")),a.a.createElement("li",null,a.a.createElement(U.a,{to:"/signup"},"Sign Up")))},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"navBar"},a.a.createElement("ul",{className:"nav nav-tabs"},a.a.createElement("li",null,a.a.createElement(U.a,{to:"/"},"Home")),a.a.createElement("li",null,a.a.createElement(U.a,{to:"/events"},"Events")),this.renderAccountLink(),this.renderCreateEventLink(),this.renderLogoutLink(),this.renderSigninSignupLinks()))}}]),t}(r.Component),N=Object(b.b)(Object(O.a)(Object(m.b)(function(e){return{currentUser:e.authReducer.currentUser,isAuthenticated:e.authReducer.isAuthenticated}})(T))),R=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.logoutUser(this.props.currentUser),this.props.history.push("/signin")}},{key:"render",value:function(){return null}}]),t}(r.Component),k=Object(O.a)(Object(m.b)(function(e){return{currentUser:e.usersReducer.currentUser}},function(e){return{logoutUser:function(t){e(g(t))}}})(R)),D=n(39),_=function(e,t){return{type:"USER_HAS_ERRORS",user:e,errors:t}},w=function(e){return{type:"SENDING_USER_REQUEST",user:e}},L=function(e){return a.a.createElement("div",{className:"music-events-container"},a.a.createElement("a",{onClick:function(t){return e.handleDisplayEvents(t)}},a.a.createElement("h1",null,"Music")))},I=function(e){return a.a.createElement("div",{className:"business-events-container"},a.a.createElement("a",{onClick:function(t){return e.handleDisplayEvents(t)}},a.a.createElement("h1",null,"Business")))},x=function(e){return a.a.createElement("div",{className:"food-and-drinks-events-container"},a.a.createElement("a",{onClick:function(t){return e.handleDisplayEvents(t)}},a.a.createElement("h1",null,"Food and Drink")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e){return{type:"EVENTS_HAS_ERRORS",errors:e}}function V(e){return{type:"EVENTS_ARE_LOADING",isLoading:e}}function P(e){return{type:"EVENTS_FETCH_DATA_SUCCESS",events:e}}var F=function(e,t){return function(n){n({type:"ADDING_EVENT"}),fetch("/api/v1/users/".concat(t,"/events"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){e.ok?n(function(e){return{type:"ADD_TO_USERS_EVENTS",eventData:e}}(e.data)):n(H(e.errors))}).catch(function(e){return n(H(e))})}},B=function(e,t,n){return function(r){r(V(!0));var a="https://www.eventbriteapi.com/v3/events/search?q=".concat(t,"&location.address=").concat(e,"&start_date.range_start=").concat(n);return fetch("https://cors-anywhere.herokuapp.com/"+a,{method:"GET",headers:{Authorization:"Bearer 77ZSPVIUQPRNZ7ZLZN5O",Origin:"http://localhost:3000/"}}).then(function(e){return e.json()}).then(function(e){r(P(e))}).catch(function(e){return r(H(e))})}},M=function(e,t){return function(n){var r="/api/v1/users/".concat(t,"/events/").concat(e.id);fetch(r,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){n({type:"REMOVE_EVENT",eventId:e.id})})}},Y=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).handleDisplayEvents=function(t){e.props.getEvents(t.target.innerText,e.props.usersLocation),e.setState({events:e.props.events})},e.state={events:[]},e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){this.state.events.length>0&&this.props.history.push("/events")}},{key:"render",value:function(){return a.a.createElement("div",{className:"categories-events-container"},a.a.createElement("div",{className:"events-components"},a.a.createElement(L,{handleDisplayEvents:this.handleDisplayEvents}),a.a.createElement(x,{handleDisplayEvents:this.handleDisplayEvents}),a.a.createElement(I,{handleDisplayEvents:this.handleDisplayEvents})))}}]),t}(r.Component),G=Object(O.a)(Object(m.b)(function(e){return{isAuthenticated:e.authReducer.isAuthenticated,events:e.eventsReducer.events,usersLocation:e.usersReducer.usersLocation,locationSet:e.usersReducer.locationSet}},function(e){return{getEvents:function(t,n){e(function(e,t){return function(n){n(V(!0));var r="https://www.eventbriteapi.com/v3/events/search?q=".concat(e);if(0!==Object.entries(t).length&&t.constructor===Object){var a="location.latitude=".concat(t.latitude,"&location.longitude=").concat(t.longitude);r="https://www.eventbriteapi.com/v3/events/search?q=".concat(e,"&").concat(a,"&expand=venue")}return fetch("https://cors-anywhere.herokuapp.com/"+r,{method:"GET",headers:{Authorization:"Bearer ".concat("77ZSPVIUQPRNZ7ZLZN5O"),Origin:"http://localhost:3000/"}}).then(function(e){return e.json()}).then(function(e){n(P(e))})}}(t,n))}}})(Y)),J=n(19),z=n.n(J),Q=n(18),Z=n.n(Q),W=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleOnChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.handleOnChangeEventDate=function(e){n.setState({eventDate:e._d})},n.validateInputs=function(e){return"Date"!==e.eventDate&&""!==e.searchTerm&&""!==e.locationAddress},n.formatString=function(e){return e.replace(/\s/g,"")},n.handleOnSubmit=function(e){if(e.preventDefault(),n.validateInputs(n.state)){var t=Z()(n.state.eventDate).format("YYYY-MM-DDThh:mm:ss"),r=n.formatString(n.state.searchTerm),a=n.formatString(n.state.locationAddress);n.props.getSearchTerm(a,r,t)}else n.props.alert.error("Please fill in all search options.");n.setState({searchTerm:"",locationAddress:"",eventDate:""})},n.state={searchTerm:"",locationAddress:"",eventDate:"Date"},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"eventsInputPage"},a.a.createElement("form",{id:"events-search-bar",onSubmit:function(t){return e.handleOnSubmit(t)}},a.a.createElement(z.a,{className:"eventDate",value:this.state.eventDate,onChange:function(t){return e.handleOnChangeEventDate(t)}}),a.a.createElement("input",{id:"searchTerm",onChange:function(t){return e.handleOnChange(t)},type:"text",name:"searchTerm",value:this.state.searchTerm,placeholder:"Event Type"}),a.a.createElement("input",{id:"locationAddress",onChange:function(t){return e.handleOnChange(t)},type:"text",name:"locationAddress",value:this.state.locationAddress,placeholder:"Location"}),a.a.createElement("input",{id:"search-events-btn",type:"submit",value:"SEARCH"})))}}]),t}(r.Component),q=Object(b.b)(W),X=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"main-image-component"},a.a.createElement("h1",null,"FIND YOUR NEXT EVENT"))}}]),t}(r.Component),$=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).getSearchTerm=function(e,t,r){n.props.getEventsBySearchBar(e,t,r),n.props.history.push("/events")},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.locationSet&&0===Object.entries(this.props.usersLocation).length&&this.props.setUsersLocation(this.props.coords)}},{key:"render",value:function(){return a.a.createElement("div",{className:"homePageContainer"},a.a.createElement(q,{getSearchTerm:this.getSearchTerm}),a.a.createElement(X,null),a.a.createElement("div",{id:"categories-title"},a.a.createElement("h1",null,"Categories")),a.a.createElement(G,null))}}]),t}(r.Component),K=Object(D.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3})($),ee=Object(O.a)(Object(m.b)(function(e){return{usersLocation:e.usersReducer.usersLocation,locationSet:e.usersReducer.locationSet,currentUser:e.authReducer.currentUser,isAuthenticating:e.authReducer.isAuthenticating,isAuthenticated:e.authReducer.isAuthenticated}},function(e){return{getEventsBySearchBar:function(t,n,r){e(B(t,n,r))},setUsersLocation:function(t){e(function(e){if(null!==e)return function(t){t({type:"SET_LOCATION",coords:e})}}(t))}}})(K)),te=n(24),ne=n.n(te),re=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).truncate=function(e){if(e)return e.slice(0,200)+"..."},n.viewEvent=function(){n.props.history.push({pathname:"/events/".concat(n.props.id),state:{currentEvent:n.state}})},n.state={id:n.props.id,name:n.props.name,venue_id:n.props.venue_id,logo:n.props.logo,description:n.props.description,url:n.props.url,start:n.props.start,end:n.props.end,status:n.props.status,currency:n.props.currency,checked:n.props.checked},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{id:this.state.id,className:"event-index"},a.a.createElement("h1",null,this.state.name),a.a.createElement("div",{className:"event-index-main-content"},a.a.createElement("img",{src:this.state.logo,alt:"event-logo"}),a.a.createElement("div",{className:"index-view-description"},a.a.createElement("p",null,this.truncate(this.props.description)))),a.a.createElement("button",{className:"event-index-view-event-btn",onClick:function(t){return e.viewEvent()}},"View Event"))}}]),t}(r.Component),ae=Object(b.b)(Object(O.a)(Object(m.b)(function(e){return{currentUser:e.authReducer.currentUser,isAuthenticated:e.authReducer.isAuthenticated}},function(e){return{removeEvent:function(t,n){e(M(t,n))},addEvent:function(t,n){e(F(t,n))}}})(re))),se=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).renderEventsFromEventBrite=function(){var e=n.props.events;if(!n.props.eventsAreLoading&&e)return e.map(function(e){var t=null!==e.logo?e.logo.url:"";return a.a.createElement(ae,{key:e.id,id:e.id,name:e.name.text,description:e.description.text,timezoneStart:e.start.timezone,start:e.start.local,timezoneEnd:e.end.timezone,end:e.end.local,logo:t,url:e.url,shareable:e.shareable})})},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"renderEventsFromEventScoutAPI",value:function(){var e=this.props.events;if(!this.props.eventsAreLoading&&e)return e.map(function(e){null!==e.logo&&e.logo.url;return a.a.createElement(ae,{id:e.id,key:e.id,name:e.name,description:e.description,start:e.start,end:e.end,logo:e.logo,url:e.url,checked:!0})})}},{key:"checkPropsEventsEmpty",value:function(){if(this.props.events.length>0)return void 0===this.props.events[0].name.text?this.renderEventsFromEventScoutAPI():this.renderEventsFromEventBrite()}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(a.a.Fragment,null,this.checkPropsEventsEmpty()))}}]),t}(r.Component),ie=n(83),ce=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).getSearchTerm=function(e,t,r){n.props.getEventsBySearchBar(e,t,r)},n.handleViewEventsClick=function(e){e.preventDefault(),n.props.getUsersEvents(n.props.currentUser),n.setState({events:n.props.usersEvents})},n.renderViewYourEventsBtn=function(){if(n.props.isAuthenticated)return a.a.createElement("button",{id:"view-users-events",onClick:function(e){return n.handleViewEventsClick(e)}},"Your Events")},n.state={events:n.props.events},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"componentWillReceiveProps",value:function(e){}},{key:"componentDidUpdate",value:function(e){e.usersEvents.length!==this.props.usersEvents.length&&this.setState({events:this.props.usersEvents}),e.events.length>0?e.events[0].name.text!==this.props.events[0].name.text&&this.setState({events:this.props.events}):e.eventsAreLoading&&this.setState({events:this.props.events})}},{key:"render",value:function(){return a.a.createElement("div",{className:"eventsContainer"},this.renderViewYourEventsBtn(),this.props.eventsAreLoading?a.a.createElement("div",{id:"spinner-div"},a.a.createElement(ie,{name:"ball-scale-ripple-multiple",color:"#4ff462"}),a.a.createElement("span",null,"LOADING")):a.a.createElement(se,{events:this.state.events}),a.a.createElement(q,{getSearchTerm:this.getSearchTerm}))}}]),t}(r.Component),oe=Object(O.a)(Object(m.b)(function(e){return{currentUser:e.authReducer.currentUser,isAuthenticated:e.authReducer.isAuthenticated,eventsAreLoading:e.eventsReducer.eventsAreLoading,events:e.eventsReducer.events,usersEvents:e.eventsReducer.usersEvents,usersLocation:e.usersReducer.usersLocation,eventsHasErrors:e.eventsReducer.eventsHasErrors}},function(e){return{getEventsBySearchBar:function(t,n,r){return e(B(t,n,r))},getUsersEvents:function(t){return e(function(e){return function(t){t(V(!0));var n="/api/v1/users/".concat(e.id,"/events");fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(function(e){return e.json()}).then(function(n){n.ok?t(function(e,t){return{type:"USERS_EVENTS_FETCH_SUCCESS",usersEvents:e,user:t}}(n.events,e)):t(H(n.errors))})}}(t))}}})(ce)),ue=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleOnChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t={id:n.state.id,user_name:n.state.user_name,email:n.state.email,password:n.state.password};n.props.editUser(t)},n.state={id:n.props.currentUser.id,user_name:n.props.currentUser.user_name,email:n.props.currentUser.email,password:n.props.currentUser.password},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.hasErrors&&e.isLoading&&j(this.props.errors,this.props.alert)}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"userInput"},a.a.createElement("form",{id:"user-edit-form",onSubmit:function(t){return e.handleSubmit(t)}},a.a.createElement("div",{id:"user-edit-title"},a.a.createElement("h1",null,"EDIT ACCOUNT")),a.a.createElement("div",{id:"user-edit-form-div"},a.a.createElement("input",{id:"user-edit-user_name",onChange:function(t){return e.handleOnChange(t)},name:"user_name",type:"text",value:this.state.user_name,placeholder:"New User Name"}),a.a.createElement("input",{id:"user-edit-password",onChange:function(t){return e.handleOnChange(t)},name:"password",type:"password",value:this.state.password,placeholder:"New Password"})),a.a.createElement("input",{className:"user-edit-btn",type:"submit",value:"SUBMIT"})))}}]),t}(r.Component),le=Object(b.b)(Object(O.a)(Object(m.b)(function(e){return{currentUser:e.authReducer.currentUser,isLoading:e.usersReducer.isLoading,errors:e.usersReducer.errors,hasErrors:e.usersReducer.hasErrors}},function(e){return{editUser:function(t){e(function(e){return function(t){t(w(e)),fetch("/api/v1/users/".concat(e.id),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(n){n.ok?t(function(e){return{type:"UPDATE_CURRENT_USER",user:e}}(e)):t(_(n.user,n.errors))})}}(t))}}})(ue))),pe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).handleDelete=function(e){n.props.logoutUser(n.props.currentUser),n.props.deleteUser(n.props.currentUser),n.props.history.push("/signup")},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.isAuthenticated||this.props.isAuthenticating||this.props.history.push("/signin")}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"account-container"},a.a.createElement(le,null),a.a.createElement("button",{id:"delete-account-button",onClick:function(t){return e.handleDelete(t)}},a.a.createElement("div",{className:"box-left"},a.a.createElement("i",{className:"but-icon fa fa-lg fa-times"}))))}}]),t}(r.Component),he=Object(O.a)(Object(m.b)(function(e){return{currentUser:e.authReducer.currentUser,isAuthenticated:e.authReducer.isAuthenticated,isAuthenticating:e.authReducer.isAuthenticating}},function(e){return{deleteUser:function(t){e(function(e){return function(t){t(w(e)),fetch("/api/v1/users/".concat(e.id),{method:"DELETE",headers:{Accept:"application/js","Content-Type":"application/js"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(n){n.ok?(t(function(e){return{type:"DELETE_USER",user:e}}(e)),localStorage.clear(),t({type:"RESET"})):t(_(n.user,n.errors))})}}(t))},logoutUser:function(t){e(g(t))}}})(pe)),de=n(48),me=n(8),ve={events:[],eventsHasErrors:!1,eventsAreLoading:!1,currentEvent:{},usersEvents:[]};var Ee=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleOnClickAddAndDelete=function(e){n.props.isAuthenticated?(n.state.checked?n.props.removeEvent(n.state,n.props.currentUser.id):n.props.addEvent(n.state,n.props.currentUser.id),n.setState({checked:!n.state.checked})):n.props.alert.info("Create an account to save events.")},n.parseTimeDate=function(e){return Z()(e).format("MMMM Do YYYY @ h:mm a")},n.isUsersEvent=function(e){var t=Number(e.id);return n.props.usersEvents.some(function(e){return e.id===t})},n.state=n.props.location.state.currentEvent,n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.isUsersEvent(this.props.location.state.currentEvent)&&this.setState({checked:!0})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{id:this.state.id,className:"event"},a.a.createElement("h1",null,this.state.name),a.a.createElement("div",{className:"event-content"},a.a.createElement("img",{src:this.state.logo,alt:"event-logo"}),a.a.createElement(ne.a,{checked:this.state.checked,onClick:function(t){return e.handleOnClickAddAndDelete(t)}}),a.a.createElement("ul",null,a.a.createElement("span",null,"Starts"),a.a.createElement("li",null,this.parseTimeDate(this.state.start)),a.a.createElement("span",null,"Ends"),a.a.createElement("li",null,this.parseTimeDate(this.state.end)))),a.a.createElement("a",{className:"event-page-link",href:this.state.url},a.a.createElement("img",{src:"https://img.icons8.com/ultraviolet/26/000000/link.png"})),a.a.createElement("div",{className:"content-description"},a.a.createElement("h3",null,"Description"),a.a.createElement("p",null,this.state.description)))}}]),t}(r.Component),fe=Object(b.b)(Object(O.a)(Object(m.b)(function(e){return{currentUser:e.authReducer.currentUser,isAuthenticated:e.authReducer.isAuthenticated,usersEvents:e.eventsReducer.usersEvents}},function(e){return{removeEvent:function(t,n){e(M(t,n))},addEvent:function(t,n){e(F(t,n))}}})(Ee))),ge=(n(116),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleOnChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.handleOnChangeDateTimeStart=function(e){n.setState({start:e._d})},n.handleOnChangeDateTimeEnd=function(e){n.setState({end:e._d})},n.onDrop=function(e){n.setState({logo:e[0].name})},n.handleOnSubmit=function(e){e.preventDefault(),n.props.addEvent(n.state,n.state.user_id),n.setState({name:"",venue_id:"",logo:"https://res.cloudinary.com/zacwillmington/image/upload/v1550263383/md-duran-628447-unsplash_udufrg.jpg",description:"",url:"",start:new Date,end:new Date,status:"",currency:"",user_id:n.props.currentUser.id,alerted:!1}),n.props.history.push("/events")},n.state={name:"",logo:"https://res.cloudinary.com/zacwillmington/image/upload/v1550263383/md-duran-628447-unsplash_udufrg.jpg",description:"",url:"",start:new Date,end:new Date,status:"",currency:"",user_id:n.props.currentUser.id,alerted:!1},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.isAuthenticated||this.props.isAuthenticating||(this.props.alert.info("Please Signin to create or edit an event."),this.props.history.push("/signin"))}},{key:"componentDidUpdate",value:function(e){this.props.eventsHasErrors&&!this.state.alerted?(j(this.props.eventErrors,this.props.alert),this.setState({alerted:!0})):this.props.eventSuccess}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"event-input"},a.a.createElement("div",{id:"create-event-input-title-div"},a.a.createElement("h2",null,"CREATE YOUR EVENT")),a.a.createElement("form",{onSubmit:function(t){return e.handleOnSubmit(t)}},a.a.createElement("section",{className:"event-input-section-1"},a.a.createElement("div",{className:"event-input-form-section",id:"event-name"},a.a.createElement("label",{htmlFor:"event-input-name"},"Event Name"),a.a.createElement("input",{id:"event-input-name",onChange:function(t){return e.handleOnChange(t)},type:"text",name:"name",value:this.state.name})),a.a.createElement("div",{className:"event-input-form-section"},a.a.createElement("label",{htmlFor:"event-input-status"},"Event Status"),a.a.createElement("input",{id:"event-input-status",onChange:function(t){return e.handleOnChange(t)},type:"text",name:"status",value:this.state.status}))),a.a.createElement("section",{className:"event-input-section-2"},a.a.createElement("div",{className:"event-input-form-section"},a.a.createElement("label",{htmlFor:"event-input-currency"},"Currency"),a.a.createElement("input",{id:"event-input-currency",onChange:function(t){return e.handleOnChange(t)},type:"text",name:"currency",value:this.state.currency})),a.a.createElement("div",{className:"event-input-form-section"},a.a.createElement("label",{htmlFor:"event-input-url"},"Event URL"),a.a.createElement("input",{id:"event-input-url",onChange:function(t){return e.handleOnChange(t)},type:"text",name:"url",value:this.state.url}))),a.a.createElement("br",null),a.a.createElement("input",{id:"user_id",type:"hidden",name:"user_id"}),a.a.createElement("label",{htmlFor:"event-input-description"},"Description"),a.a.createElement("textarea",{id:"event-input-description",onChange:function(t){return e.handleOnChange(t)},type:"text-area",name:"description",value:this.state.description}),a.a.createElement("br",null),a.a.createElement("div",{className:"event-dateTime"},a.a.createElement(z.a,{value:this.props.start,onChange:function(t){return e.handleOnChangeDateTimeStart(t)}}),a.a.createElement(z.a,{value:this.props.end,onChange:function(t){return e.handleOnChangeDateTimeEnd(t)}})),a.a.createElement("input",{id:"create-event-btn",type:"submit",value:"Create Event"})))}}]),t}(r.Component)),be=Object(b.b)(Object(O.a)(Object(m.b)(function(e){return{currentUser:e.authReducer.currentUser,isAuthenticated:e.authReducer.isAuthenticated,isAuthenticating:e.authReducer.isAuthenticating,eventSuccess:e.eventsReducer.eventSuccess,eventsHasErrors:e.eventsReducer.eventsHasErrors,eventErrors:e.eventsReducer.errors,usersEvents:e.eventsReducer.usersEvents,currentEvent:e.eventsReducer.currentEvent}},function(e){return{addEvent:function(t,n){e(F(t,n))}}})(ge))),Oe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(a.a.Fragment,null,a.a.createElement(N,null),a.a.createElement(h.a,{exact:!0,path:"/",component:ee}),a.a.createElement(h.a,{exact:!0,path:"/users/:id/events/new",component:be}),a.a.createElement(h.a,{exact:!0,path:"/users/:id/events/:event_id/edit",component:be}),a.a.createElement(h.a,{exact:!0,path:"/users/:id/events",component:oe}),a.a.createElement(h.a,{exact:!0,path:"/events",component:oe}),a.a.createElement(h.a,{exact:!0,path:"/events/:id",component:fe}),a.a.createElement(h.a,{exact:!0,path:"/users/:id",component:he}),a.a.createElement(h.a,{path:"/signup",component:C}),a.a.createElement(h.a,{path:"/signin",component:y}),a.a.createElement(h.a,{path:"/logout",component:k})))}}]),t}(r.Component),je=n(124),Se=n(40),ye=n(28),Ae=n(41),Ce=n.n(Ae),Ue=n(42),Te=n.n(Ue),Ne=n(15),Re={user:{},errors:[],hasErrors:!1,isLoading:!1,isLoggedin:!1,locationSet:!1,usersLocation:{}};var ke={isAuthenticated:!1,isAuthenticating:!1,isLoading:!1,hasErrors:!1,currentUser:{},token:null,errors:[]};var De=Object(Ne.c)({usersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOCATION":return Object(me.a)({},e,{usersLocation:t.coords,locationSet:!0});case"SENDING_USER_REQUEST":return Object(me.a)({},e,{currentUser:t.user,isAuthenticated:!0,isLoading:!0,hasErrors:!1,errors:[]});case"UPDATE_CURRENT_USER":return Object(me.a)({},e,{currentUser:t.user,isAuthenticated:!0,isLoading:!1,errors:[]});case"USER_HAS_ERRORS":return Object(me.a)({},e,{currentUser:t.user,isAuthenticated:!0,errors:t.errors,isLoading:!1,hasErrors:!0});case"DELETE_USER":return Object(me.a)({},e,{currentUser:{},isAuthenticated:!1,isLoading:!1,errors:[]});default:return e}},eventsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EVENTS_HAS_ERRORS":return Object(me.a)({},e,{eventsHasErrors:!0,eventsAreLoading:!1,errors:t.errors});case"EVENTS_ARE_LOADING":return Object(me.a)({},e,{eventsAreLoading:!0,eventsHasErrors:!1});case"EVENTS_FETCH_DATA_SUCCESS":return Object(me.a)({},e,{eventsAreLoading:!1,eventsHasErrors:!1,events:t.events.events});case"ADDING_EVENT":return Object(me.a)({},e,{eventsAreLoading:!0,eventsHasErrors:!1,currentEvent:t.currentEvent});case"USERS_EVENTS_FETCH_SUCCESS":return Object(me.a)({},e,{eventsAreLoading:!1,usersEvents:t.usersEvents});case"ADD_TO_USERS_EVENTS":return Object(me.a)({},e,{currentEvent:t.eventData,eventsAreLoading:!1,usersEvents:[].concat(Object(de.a)(e.usersEvents),[t.eventData])});case"REMOVE_EVENT":return Object(me.a)({},e,{usersEvents:e.usersEvents.filter(function(e){return e.id!==t.eventId})});default:return e}},authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_AUTH_REQUEST":return Object(me.a)({},e,{isLoading:!0,hasErrors:!1});case"AUTHENTICATION_REQUEST":return Object(me.a)({},e,{isAuthenticating:!0,isLoading:!0});case"AUTHENTICATION_SUCCESS":return Object(me.a)({},e,{currentUser:t.user,token:t.token,isAuthenticated:!0,isAuthenticating:!1,hasErrors:!1,errors:[]});case"AUTHENTICATION_FAILURE":return Object(me.a)({},e,{currentUser:{},isAuthenticated:!1,isAuthenticating:!1,isLoading:!1,token:null,hasErrors:!0,errors:t.errors});default:return e}}}),_e=n(43),we=n(44),Le=n.n(we),Ie=n(45),xe=n.n(Ie),He={key:"root",storage:Ce.a,stateReconciler:Te.a},Ve=Object(ye.a)(He,De),Pe=Object(Ne.e)(Ve,Object(Ne.d)(Object(Ne.a)(_e.a,xe.a),Le()())),Fe=Object(ye.b)(Pe),Be=n(46);i.a.render(a.a.createElement(b.a,Object.assign({template:Se.a},{position:"top left",timeout:1e4,offset:"30px",transition:"scale"},{store:Pe}),a.a.createElement(m.a,{store:Pe},a.a.createElement(Be.a,{loading:null,persistor:Fe},a.a.createElement(je.a,null,a.a.createElement(Oe,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},49:function(e,t,n){e.exports=n(123)},54:function(e,t,n){},56:function(e,t,n){}},[[49,2,1]]]);
//# sourceMappingURL=main.23a60320.chunk.js.map